/***************************************************************************
* COPYRIGHT NOTICE
* Copyright 2019 Horizon Robotics, Inc.
* All rights reserved.
***************************************************************************/

#ifndef UTILITY_SENSOR_INC_IMS290_GAC_57_SETTING_H_
#define UTILITY_SENSOR_INC_IMS290_GAC_57_SETTING_H_

uint8_t ims_cd569_init_setting[] = {
  //复位
  0x04, 0x90, 0x00, 0x10, 0xf1,
  0x00, 0x0F,

  //改变为3G模式
  0x04, 0x90, 0x00, 0x01, 0x01,
   //关流
  0x04, 0x90, 0x03, 0x13, 0x00,

  //recive ID
  0x04, 0x90, 0x00, 0x50, 0x00,
  0x04, 0x90, 0x00, 0x51, 0x01,
  0x04, 0x90, 0x00, 0x52, 0x02,
  0x04, 0x90, 0x00, 0x53, 0x00,

  //切换到IMS1
  0x04, 0x90, 0x00, 0x10, 0x21,
  0x00, 0x5F,
  //串行器输出ID
  0x04, 0x80, 0x00, 0x5b, 0x01, 
  //yuv422
  0x04, 0x80, 0x03, 0x18, 0x5E,
  //trigger断电上电 进入连续trigger模式
  0x04, 0x80, 0x02, 0xD3, 0x18,
  0x00, 0x0F,
  0x04, 0x80, 0x02, 0xD3, 0x08,

// 解串器配置
  0x04, 0x90, 0x03, 0x30, 0x04, //Set as 2x4 mode, Default value
  0x04, 0x90, 0x04, 0x4A, 0xD0, //Set the lane count as 4 lanes
  0x04, 0x90, 0x03, 0x20, 0x2A, //Set MIPI speed 800Mbps

  //打开control 设定输出到portA
  //pipeY VC=0
   //打开control 设定输出到portA
  0x04, 0x90, 0x04, 0x0B, 0x07,
  0x04, 0x90, 0x04, 0x4B, 0x07,
  0x04, 0x90, 0x04, 0x8B, 0x07,
  0x04, 0x90, 0x04, 0xcB, 0x07,
  0x04, 0x90, 0x04, 0x6D, 0x15,
  0x04, 0x90, 0x04, 0xaD, 0x15,
  0x04, 0x90, 0x04, 0xeD, 0x15,
  0x04, 0x90, 0x04, 0x2D, 0x15,


  // //pipeZ VC=0
  0x04, 0x90, 0x04, 0x8D, 0x1E, // SRC  0b00011110,  VC=0 -> VC=0
  0x04, 0x90, 0x04, 0x8E, 0x1E, // DEST 0b00011110,
  0x04, 0x90, 0x04, 0x8F, 0x00, // SRC  DT = Frame Start
  0x04, 0x90, 0x04, 0x90, 0x00, // DEST DT = Frame Start
  0x04, 0x90, 0x04, 0x91, 0x01, // SRC  DT = Frame End
  0x04, 0x90, 0x04, 0x92, 0x01, // DEST DT = Frame End

};

uint8_t ims_cd569_stream_on_setting[] = {
  0x04, 0x90, 0x03, 0x13, 0x02,	// PIPE X BPP = 0x10, enable CSI output
};

uint8_t ims_cd569_off_setting[] = {
  0x04, 0x90, 0x03, 0x13, 0x00,	// enable mipi output
};

#endif  // UTILITY_SENSOR_INC_IMS290_GAC_57_SETTING_H_
