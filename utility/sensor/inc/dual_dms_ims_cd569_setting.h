/***************************************************************************
* COPYRIGHT NOTICE
* Copyright 2019 Horizon Robotics, Inc.
* All rights reserved.
***************************************************************************/

#ifndef UTILITY_SENSOR_INC_IMS290_GAC_57_SETTING_H_
#define UTILITY_SENSOR_INC_IMS290_GAC_57_SETTING_H_

uint8_t dual_dms_ims_cd569_init_setting[] = {
  //复位
  0x04, 0x90, 0x00, 0x10, 0xf1,
  0x00, 0x0F,
  //改变为3G模式
  0x04, 0x90, 0x00, 0x01, 0x01,
   //关流
  0x04, 0x90, 0x03, 0x13, 0x00,


  //
  0x04, 0x90, 0x00, 0x50, 0x00,
  0x04, 0x90, 0x00, 0x51, 0x01,
  0x04, 0x90, 0x00, 0x52, 0x02,
  0x04, 0x90, 0x00, 0x53, 0x00,

  

    //切换到IMS
  0x04, 0x90, 0x00, 0x10, 0x21,
  0x00, 0x5F,
  //串行器输出ID
  0x04, 0x80, 0x00, 0x5b, 0x11, 
  //yuv422
  0x04, 0x80, 0x03, 0x18, 0x5E,

  //trigger断电上电 进入连续trigger模式
  0x04, 0x80, 0x02, 0xD3, 0x18,
  0x00, 0x0F,
  0x04, 0x80, 0x02, 0xD3, 0x08,

  //切换到DMS
  0x04, 0x90, 0x00, 0x10, 0x22,
  0x00, 0x5F, 
// DVP D4 ~ D11
  0x04, 0x80, 0x01, 0xb0, 0x04,
  0x04, 0x80, 0x01, 0xb1, 0x05,
  0x04, 0x80, 0x01, 0xb2, 0x06,
  0x04, 0x80, 0x01, 0xb3, 0x07,
  0x04, 0x80, 0x01, 0xb4, 0x08,
  0x04, 0x80, 0x01, 0xb5, 0x09,
  0x04, 0x80, 0x01, 0xb6, 0x0a,
  0x04, 0x80, 0x01, 0xb7, 0x0b,


//MAX9295 Parallel video enabled
  0x04, 0x80, 0x00, 0x07, 0xF7,

  0x04, 0x80, 0x03, 0x11, 0xf0,  // csi-b -> xyzu
  0x04, 0x80, 0x03, 0x08, 0x6f,    // csi-b

//Set 9295A pipe x stream ID
  0x04, 0x80, 0x00, 0x53, 0x02,   //x -> stream 0 0x00

  0x04, 0x80, 0x01, 0x00, 0x60,
  0x04, 0x80, 0x01, 0x01, 0x4A,

  //切换到双link同步
  0x04, 0x90, 0x00, 0x10, 0x23,
  // ------------------ MAX9296 Settings -----------------------
        //Software override for BPP, VC and DT
        0x04,0x90,0x03,0x16,0x5E,
        0x04,0x90,0x03,0x17,0x7E,
        0x04,0x90,0x03,0x18,0x02,
        0x04,0x90,0x03,0x19,0x40,       //soft bpp Z = 0x08 for mux mode
        0x04,0x90,0x03,0x1D,0x60,       // enable pipe X soft override

        0x04,0x90,0x03,0x22,0x50, // set pipe Z in yuv422 8bit mux mode
        0x04,0x90,0x03,0x30,0x04,       // set des in 2x4 mode
        0x04,0x90,0x04,0x4A,0xD0,       // Four lane output from MIPI Port A
        0x04,0x90,0x03,0x20,0x68,       // Set MIPI speed 800Mbps, enable pipe Z soft override

        // Send YUV422, FS, and FE from Pipe Y to Controller 1
        0x04,0x90,0x04,0x4B,0x07,       // Enable 3 Mappings
        0x04,0x90,0x04,0x6D,0x15,       // Destionation Controller = Controller 1. Controller 1 sends data to MIPI Port A
        // For the following MSB 2 bits = VC, LSB 6 bits =DT
        0x04,0x90,0x04,0x4D,0x1E,       // SRC  0b00011110,DT = 0x1E (YUV422-8bit) VC=1
        0x04,0x90,0x04,0x4E,0x5E,       // DEST 0b01011110,DT = 0x5E,(YUV422-8bit)
        0x04,0x90,0x04,0x4F,0x00,       // SRC  DT = Frame Start
        0x04,0x90,0x04,0x50,0x40,       // DEST DT = Frame Start
        0x04,0x90,0x04,0x51,0x01,       // SRC  DT = Frame End
        0x04,0x90,0x04,0x52,0x41,       // DEST DT = Frame End

        // Send YUV422, FS, and FE from Pipe Z to Controller 1
        0x04,0x90,0x04,0x8B,0x07,       // Enable 3 Mappings
        0x04,0x90,0x04,0xAD,0x15,       // Destionation Controller = Controller 1. Controller 2 sends data to MIPI Port A
        // For the following MSB 2 bits = VC, LSB 6 bits =DT
        0x04,0x90,0x04,0x8D,0x1E,       // SRC  0b00011110,DT = 0x1E (YUV422-8bit) VC=0
        0x04,0x90,0x04,0x8E,0x1E,       // DEST 0b00011110,DT = 0x1E,(YUV422-8bit)      ++++++++++
        0x04,0x90,0x04,0x8F,0x00,       // SRC  DT = Frame Start
        0x04,0x90,0x04,0x90,0x00,       // DEST DT = Frame Start                        ++++++++++
        0x04,0x90,0x04,0x91,0x01,       // SRC  DT = Frame End
        0x04,0x90,0x04,0x92,0x01,       // DEST DT = Frame End                          ++++++++++

        0x04,0x90,0x00,0x50,0x00,       // 9296 pipex (ID0), map to pipeZ
        0x04,0x90,0x00,0x51,0x01,       // 9296 pipey (ID1), map to pipeY
        0x04,0x90,0x00,0x52,0x02,       // 9296 pipeZ (ID2), map to pipe x
        0x04,0x90,0x00,0x53,0x03,       // 9296 pipeU (ID3), map to pipe U

        //ignore first frame output
        0x04,0x90,0x03,0x25,0x80,
        // Copy HS to DE
        0x04,0x90,0x01,0xDA,0x18,
                // Enable processing HS and DE signals
        0x04,0x90,0x0B,0x0F,0x08,
        //shift hs/vs out of the normal data
        0x04,0x90,0x0B,0xA7,0x40,
        //Enable GMSL1 to GMSL2 color mapping
        0x04,0x90,0x0B,0x96,0x1B,
};

uint8_t ims_cd569_stream_on_setting[] = {
  0x04, 0x90, 0x03, 0x13, 0x02,	// PIPE X BPP = 0x10, enable CSI output
};

uint8_t ims_cd569_off_setting[] = {
  0x04, 0x90, 0x03, 0x13, 0x00,	// enable mipi output
};

#endif  // UTILITY_SENSOR_INC_IMS290_GAC_57_SETTING_H_

